<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art by vincent</title>
    <link rel="stylesheet" href="./css/estilos_quadro.css">
</head>

<body>
    <!-- 
    <div class="header">
        <div class="container">

            <h1 id="primeiroH1">Art by vincent</h1>
            <ul>

                <li> <a id="conta" href="entrar.html">Logout</a></li>
            </ul>

        </div>
    </div> -->


    <div class="canvas">
        <div class="container">

            <canvas id="tela">

            </canvas>

    </div>

    <div class="nav_inferior" > 
        <h2 class="span_titulos" >Desenhe aqui</h2>
        <a class="conta" href="entrar.html">Logout</a> 
        <a class="conta" href="menu.html">Voltar ao Menu Principal</a> 
    </div>

    </div>



    <div class="footer">
        <div class="container">
            <h2>Art by Vincent</h2>
            <p>desenvolvido por Isabella Neves</p>

        </div>
    </div>
</body>

</html>

<script>



    /*o código só será executado quando todo o conteúdo tiver sido carregado */
    document.addEventListener('DOMContentLoaded', () => {
        /*chama a função*/

        /*criar um objeto pincel , que o movimento do mouse contola*/
        const pincel = {
            /*se tiver ativo colore , se não não colore*/
            ativo: false,
            /*diz se esta se movendo pra colorir */
            movendo: false,
            pos: { x: 0, y: 0 },
            /*null pois ainda não foi criada*/
            posAnterior: null
        }
        /*selecionar o id criado no html = tela */
        const tela = document.querySelector('#tela');
        /*o contexto que é modificado não a tela */
        const contexto = tela.getContext('2d')
        /*tamanho da tela*/
        tela.width = 1320;
        /*altura da tela*/
        tela.height = 550;

        /*modificar o contexto cor e largura da linha*/
        contexto.lineWidth = 4;
        contexto.strokeStyle = "blue";


        /*const pra desehar*/
        const desenharLinha = (linha) => {

            /*inicializa a const contexto*/
            contexto.beginPath();
            /*passando as coordenadas do cursor*/
            contexto.moveTo(linha.posAnterior.x, linha.posAnterior.y)
            /*onde eu quero as linhas*/
            contexto.lineTo(linha.pos.x, linha.pos.y);
            /*desenha ai*/
            contexto.stroke();

        }


        /*quando o mouse for clicado, está função será executada*/
        tela.onmousedown = (evento) => { pincel.ativo = true };
        /*quando o mouse for desclicado, está função será executada*/
        tela.onmouseup = (evento) => { pincel.ativo = false };


        /*quando o mouse se mover, está função será executada*/
        tela.onmousemove = (evento) => {
            /*aqui diz qual a posição do nosso evento*/
            pincel.pos.x = evento.clientX
            pincel.pos.y = evento.clientY
            pincel.movendo = true;
        }

        /*criando ciclo : se o pincel estiver ativo ,
         estiver se movendo e tiver a posição anterior diferente da posição atual então desenha na tela uma linha  */

        const ciclo = () => {

            if (pincel.ativo && pincel.movendo && pincel.posAnterior) {
                /*passando as duas posições pra desenhar uma linha*/
                desenharLinha({
                    pos: pincel.pos, posAnterior: pincel.posAnterior
                })
                pincel.movendo = false;

            }
            /*depois que ele passar do if , as const mudam */
            pincel.posAnterior = { x: pincel.pos.x, y: pincel.pos.y }


            /*looping do ciclo*/
            setTimeout(ciclo, 10);

        }
        /*chamando a função ciclo*/
        ciclo()
    })

</script>