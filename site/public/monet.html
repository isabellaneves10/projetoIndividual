<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art by Vincent</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="./css/estilos_monet.css">
</head>
<body onload="grafico()">

    <div id="alo" ></div>

   
    <div class="grafic" >
        <h1>Indicação</h1>
        <canvas id="myChart2"></canvas>
      </div>

</body>
</html>

<script>
    function grafico() {

        fetch(`/usuarios/countMonet`)
            
            .then(function (resposta) {
                if (resposta.ok) {
                    if (resposta.status == 204) {

                        throw "Nenhum resultado encontrado!!";
                    }

                    resposta.json().then(function (resposta) {

                        var countMonet = resposta[0].countMonet
                        sessionStorage.countMonet = countMonet
                        // alo.innerHTML = `alo monet ${countMonet} `
                        console.log("Dados recebidos: ", JSON.stringify(resposta));
                    });
                } else {
                    throw ('Houve um erro na API!');
                }
            }).catch(function (resposta) {
                console.error(resposta);

            });

    }

        fetch(`/usuarios/countFrida`)
            
            .then(function (resposta) {
                if (resposta.ok) {
                    if (resposta.status == 204) {

                        throw "Nenhum resultado encontrado!!";
                    }

                    resposta.json().then(function (resposta) {

                        
                        var countFrida = resposta[0].countFrida
                        sessionStorage.countFrida = countFrida
                        // alo.innerHTML += `alo Frida ${countFrida} `
                        console.log("Dados recebidos: ", JSON.stringify(resposta));
                    });
                } else {
                    throw ('Houve um erro na API!');
                }
            }).catch(function (resposta) {
                console.error(resposta);

            });

        

    // const labels = [
    //   '12:00',
    //   '13:00',
    //   '14:00',
    //   '15:00',
    //   '16:00',
    //   '17:00',
    // ];

    const labels2 = [
      'Frida', 
      'Monet'
   
      
    ];
    
  
    // const data = {
    //   labels: labels,
    //   datasets: [{
    //     label: 'Temperatura',
    //     backgroundColor: 'rgb(196,1 , 8)',
    //     borderColor: 'rgb(196,1 , 8)',
    //     data: [30, 29, 28, 25, 22, 23],
    //   },
    //   {
    //     label: 'Umidade',
    //     backgroundColor: 'rgb(135, 206, 235)',
    //     borderColor: 'rgb(135, 206, 235)',
    //     data: [80, 82, 80, 85, 80, 83],
    //   }
    // ]
    // };

    const data2 = {
      labels: labels2,
      datasets: [{

        label: 'indicação',
        backgroundColor: '#00ffee',
        // borderColor: 'rgb(196,1 , 8)',
        data: [sessionStorage.countFrida , sessionStorage.countMonet],
    //   },
    //   {
    //     label: 'Michelangelo',
    //     backgroundColor: 'rgb(135, 206, 235)',
    //     borderColor: 'rgb(135, 206, 235)',
    //     data: [sessionStorage.countMichelangelo],
      }]
    };
  
    // const config = {
    //   type: 'line',
    //   data: data,
    //   options: {}
    // };


    const configg = {
      type: 'bar',
      data: data2,
      options: {}
    };
  </script>

<script>
    // const myChart = new Chart(
    //   document.getElementById('myChart'),
    //   config
    // );

    const myChart2 = new Chart(
      document.getElementById('myChart2'),
      configg
    );

  </script>











